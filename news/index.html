<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog â€¢ MSEtool Functions</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://msetool.openmse.com/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MSEtool Functions</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.7.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Blue-Matter/MSEtool/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/Blue-Matter/MSEtool/blob/master/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.7.3" id="msetool-373---development">MSEtool 3.7.3 - Development<a class="anchor" aria-label="anchor" href="#msetool-373---development"></a></h2>
<div class="section level3">
<h3 id="fixes-3-7-3">Fixes<a class="anchor" aria-label="anchor" href="#fixes-3-7-3"></a></h3>
<ul><li>fix print for <code>PM</code> objects when <code>nsim&lt;15</code>
</li>
<li>fix to <code>LinInterp_cpp</code> when searching for values on bounds</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.7.2" id="msetool-372">MSEtool 3.7.2<a class="anchor" aria-label="anchor" href="#msetool-372"></a></h2><p class="text-muted">CRAN release: 2024-09-23</p>
<div class="section level3">
<h3 id="new-additions-3-7-2">New additions<a class="anchor" aria-label="anchor" href="#new-additions-3-7-2"></a></h3>
<ul><li>added <code>nsim</code> argument to <code>Simulate</code> as an override to <code>OM@nsim</code>. Useful for generating <code>Hist</code> object with 2 sims when all historical values are identical across simulations</li>
<li>added <code>BAM2OM</code> to create OM from Beaufort Assessment Model (BAM) output</li>
<li>add MICE rel for recruitment deviates in <code>multiMSE</code> which can be a function of the state dynamics in either the current year or previous year</li>
<li>MICE rel for natural mortality can be age-specific in <code>multiMSE</code>
</li>
<li>custom stock-recruit functions available for <code>multiMSE</code>
</li>
<li>allow plusgroup to be turned off in <code>multiMSE</code>
</li>
<li>add <code>spawn_time_frac</code> argument to <code>iSCAM2OM</code>
</li>
<li>hermaphroditism in <code>multiMSE</code> can be time-varying if entries in the <code>MOM@SexPars$Herm</code> list is an array with dimensions <code>nsim, maxage+1, nyears+proyears</code>
</li>
<li>MICE relationship can be specified by reading in the abundance at age and year from the operating model</li>
<li>MICE functions can operate as a multiplier on the base value instead of over-writing the base value</li>
<li>
<code>MOM@cpars$control &lt;- list(HermEq = FALSE)</code> sidesteps the first-year equilibrium age and sex distribution calculation from the hermaphroditic age schedule</li>
<li>document the various <code>cpars$control</code> options in <code><a href="../reference/validcpars.html">help("validcpars")</a></code>
</li>
</ul></div>
<div class="section level3">
<h3 id="internal-3-7-2">Internal<a class="anchor" aria-label="anchor" href="#internal-3-7-2"></a></h3>
<ul><li>projections use <code>dynGet</code> then <code>get</code> to find the MPs in the R session (see function <code>getMP</code>). <code>dynGet</code> finds functions that are defined inside the function call stack but not available in the global environment.</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-3-7-2">Fixes<a class="anchor" aria-label="anchor" href="#fixes-3-7-2"></a></h3>
<ul><li>fix <code>plot_SS2MOM</code> for latest version of <code>r4ss</code>
</li>
<li>fix to reported <code>MMSE@SB_SBMSY</code> for <code>MMSE</code> objects</li>
<li>fix to <code>OMdoc</code>
</li>
<li>fixes to simulation of length comp</li>
<li>add <code>cpars$qs</code> to <code>OM</code> produce by <code>SS2OM</code>
</li>
<li>Note: <code>SS2OM</code> does not return <code>cpars$Data</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.7.1" id="msetool-371">MSEtool 3.7.1<a class="anchor" aria-label="anchor" href="#msetool-371"></a></h2><p class="text-muted">CRAN release: 2024-02-06</p>
<div class="section level3">
<h3 id="changes-3-7-1">Changes<a class="anchor" aria-label="anchor" href="#changes-3-7-1"></a></h3>
<ul><li>modifications to calculation of selectivity and retention curves when there is high discarding</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-3-7-1">Fixes<a class="anchor" aria-label="anchor" href="#fixes-3-7-1"></a></h3>
<ul><li>fix calculation of <code>retL</code> when <code>retA</code> passed in <code>cpars</code>
</li>
<li>fix calculation of F when <code>spawn_time_frac</code> used in <code>multiMSE</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.7.0" id="msetool-370">MSEtool 3.7.0<a class="anchor" aria-label="anchor" href="#msetool-370"></a></h2><p class="text-muted">CRAN release: 2023-07-19</p>
<div class="section level3">
<h3 id="fixes-3-7-0">Fixes<a class="anchor" aria-label="anchor" href="#fixes-3-7-0"></a></h3>
<ul><li>fix to <code>Calc_Residuals</code> when not estimating beta parameter</li>
<li>improve mapping of data across stocks in multiMSE</li>
<li>improve calculation of weighted mean of empirical weight-at-age for SS2OM</li>
<li>change to calculation of F in <code>popdyn.R</code> to include discard mortality</li>
<li>fix SPR reporting for multiMSE</li>
<li>fix <code>SubCpars</code> for <code>MOM</code> objects</li>
<li>fix year indexing for stock allocation for species complexes in multiMSE</li>
</ul></div>
<div class="section level3">
<h3 id="new-additions-3-7-0">New additions<a class="anchor" aria-label="anchor" href="#new-additions-3-7-0"></a></h3>
<ul><li>allow steepness (<code>OM@h</code>) to exceed 1 for Ricker stock-recruit relationship (the simulated steepness value in the Data object will be <code>Data@steep = rlnorm(OM@nsim, log(StockPars$hs - 0.2), sdconv(1, Obs@hbiascv)) + 0.2 - 0.5 * sdconv(1, Obs@hbiascv)^2</code>.</li>
<li>
<code>Assess2OM</code> utilizes <code>spawn_time_frac</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.6.2" id="msetool-362">MSEtool 3.6.2<a class="anchor" aria-label="anchor" href="#msetool-362"></a></h2><p class="text-muted">CRAN release: 2023-03-28</p>
<div class="section level3">
<h3 id="fixes-3-6-2">Fixes<a class="anchor" aria-label="anchor" href="#fixes-3-6-2"></a></h3>
<ul><li>important fix to a bug for projected indices when real indices are provided with NA values</li>
<li>minor fix to <code>SS2OM</code> when empirical weight-at-age is not available</li>
<li>minor fix to <code>L95</code> calculation when all age classes are mature (defaults to 1.5)</li>
<li>minor fix to <code>OM.Rmd</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="new-additions-3-6-2">New additions<a class="anchor" aria-label="anchor" href="#new-additions-3-6-2"></a></h3>
<ul><li>add ability to control timing of spawning with <code>cpars$spawn_time_frac</code> (default is beginning of year <code>spawn_time_frac=0</code>). Need to check timing on order of operations if this is used together with MICE features!</li>
<li>implemented <code>Data@Vuln_CAL</code> in generating CAL samples. <code>Data@Vuln_CAA</code> is not currently implemented</li>
<li>add ability to map <code>CAL_nsamp</code> and other sample size data across stocks in <code>MOM</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-3-6-2">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-3-6-2"></a></h3>
<ul><li>
<code>MSE@Hist</code> now includes slots <code>AtAge</code> and <code>TSdata</code> when <code>extended=FALSE</code>
</li>
<li>changed <code>MSE@N</code> slot to include age and area dimensions.</li>
<li>changed <code>MMSE@N</code> slot to include age and area dimensions.</li>
<li>added <code>extended</code> argument to <code>multiMSE</code> to report N-at-age in <code>MMSE@Misc$extended$N</code>
</li>
<li>added optional <code>MOM@SexPars$share_par = FALSE</code> argument that turns off parameter mirroring of stock-recruit, depletion parameters; fleet parameters related to effort trends; and all observation/implementation parameters. This can be used to generalize a 2-sex MOM to a multi-stock model with shared spawning output (<code>SexPars$SSBfrom</code>) and/or movement-at-age between stocks (<code>SexPars$Herm</code>).</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-3-6-2-1">Fixes<a class="anchor" aria-label="anchor" href="#fixes-3-6-2-1"></a></h3>
<ul><li>fix issue with calculation of indices in projections when there are NAs in the real data</li>
<li>minor fix to <code>SS2OM</code> when empirical weight-at-age is not available</li>
<li>minor fix to <code>L95</code> calculation when all age classes are mature (defaults to 1.5)</li>
<li>minor fix to <code>OM.Rmd</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.6.1" id="msetool-361">MSEtool 3.6.1<a class="anchor" aria-label="anchor" href="#msetool-361"></a></h2><p class="text-muted">CRAN release: 2023-01-05</p>
<div class="section level3">
<h3 id="new-additions-3-6-1">New additions<a class="anchor" aria-label="anchor" href="#new-additions-3-6-1"></a></h3>
<ul><li>added additional indices to <code>plot.Data</code>
</li>
<li>added option for custom stock-recruitment function (in development/testing)</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-3-6-1">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-3-6-1"></a></h3>
<ul><li>Add <code>Misc</code> information to <code>PPD</code> for <code>MMSE</code>
</li>
<li>remove <code>devtools</code> from Suggests and replace with <code>remotes</code>
</li>
<li>updates to <code>SS2MOM_plots</code> plots</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-3-6-1">Fixes<a class="anchor" aria-label="anchor" href="#fixes-3-6-1"></a></h3>
<ul><li>fix minor bugs in <code>SS2Data</code>
</li>
<li>fix bug in calculating selectivity/retention in <code>SSMOM2OM</code>
</li>
<li>fix bug in calculating fecundity-at-age for <code>SS2OM</code> in <code>SSinternal</code>
</li>
<li>fix minor bug in <code>SS2MOM_plots</code>
</li>
<li>fix calculation of <code>L95array</code> when <code>Mat_age</code> passed in through <code>cpars</code>
</li>
<li>fix minor bug in <code>SS2OM</code> when <code>report=TRUE</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.6.0" id="msetool-360">MSEtool 3.6.0<a class="anchor" aria-label="anchor" href="#msetool-360"></a></h2><p class="text-muted">CRAN release: 2022-10-19</p>
<div class="section level3">
<h3 id="major-changes-3-6-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-3-6-0"></a></h3>
<ul><li>By default, MPs are now no longer run in parallel mode when <code>parallel=TRUE</code> in <code>runMSE</code> and <code>multiMSE</code>. To run MPs in parallel, specify a named list with the name of the MP(s) assigned as TRUE. For example,<code>parallel=list(AvC=TRUE</code>).</li>
</ul></div>
<div class="section level3">
<h3 id="new-additions-3-6-0">New additions<a class="anchor" aria-label="anchor" href="#new-additions-3-6-0"></a></h3>
<ul><li>added <code>summary.MMSE</code> generic function</li>
<li>added <code>Lag_Data</code> function to be used internally in custom MPs to lag all time-series data by specified number of time-steps (or optionally only some data slots). See <code><a href="../reference/Lag_Data.html">?Lag_Data</a></code> for more information.</li>
<li>added stock and fleet names (if provided in <code>MOM</code>) to <code>(multiHist)</code>
</li>
<li>added <code>Real.Data.Map</code> to <code>cpars</code>. This allows mapping of simulated data across stocks in <code>MOMs</code> where the real data is not stock-specific; e.g., cases where <code>MOM</code> includes male and female stocks but the real data in <code>cpars$Data</code> is not sex-specific</li>
<li>
<code>runMSE</code> can use the split-apply-combine technique to run projections in parallel with argument <code>parallel = "sac"</code>. Implementation details and notable issues are documented in the help doc <code><a href="../reference/runMSE.html">?runMSE</a></code>. This is the fastest method for running simulations but may not be suitable for all operating models and it may be more difficult to troubleshoot errors.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-3-6-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-3-6-0"></a></h3>
<ul><li>minor patch to <code>ASAP2Data</code>
</li>
<li>minor patch in <code>Assess2OM</code>
</li>
<li>removed duplicated information in <code>multiHist</code> object (now only returns biological information for fleet=1)</li>
<li>patch to <code>gettaxa</code> function for species that are found in FishBase database but not in FishLife database</li>
<li>update <code>joinData</code>, <code>joinHist</code>, <code>joinMSE</code>, and <code>addMPs</code> functions</li>
<li>
<code>runMSE</code> calculates vulnerable biomass from fishery weight at age <code>cpars$Wt_age_C</code> if provided.</li>
<li>the realized catch from TAC is no longer constrained <code>0.5 * VBiomass</code> (a legacy feature which is now removed). The constraint is updated to <code>0.999 * Biomass</code>.</li>
<li>increase iteration limit to 300 when solving for Baranov F during the MP projections.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.5.0" id="msetool-350">MSEtool 3.5.0<a class="anchor" aria-label="anchor" href="#msetool-350"></a></h2><p class="text-muted">CRAN release: 2022-06-07</p>
<div class="section level3">
<h3 id="new-additions-3-5-0">New additions<a class="anchor" aria-label="anchor" href="#new-additions-3-5-0"></a></h3>
<ul><li>added check for <code>OM</code> completeness and default values for some parameters</li>
<li>historical MPAs now work in <code>multiMSE</code>
</li>
<li>argument <code>parallel</code> in <code>runMSE</code> can takes a named list of MPs</li>
<li>two new functions <code>WHAM2OM</code> and <code>ASAP2OM</code> to import assessments into operating models</li>
<li>
<code>Assess2MOM</code> to generate a multi-fleet operating model, either for a 2-sex population where recruitment is predicted from female spawning output, or a single-sex population.</li>
<li>
<code>Assess2OM</code> supports Ricker stock-recruit relationship.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-3-5-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-3-5-0"></a></h3>
<ul><li>fix to fleet-specific vulnerable biomass provided to <code>MMPs</code>
</li>
<li>updated code for conditioning observation parameters on observed indices</li>
<li>add message showing range of estimated von Bert. parameters when <code>OM@cpars$Len_age</code> is provided.</li>
<li>fix bug in SSBpR for 2-sex <code>MOM</code> (introduced in 3.4.0)</li>
<li>pass projected OM abundance and SSB arrays to <code>Data@Misc$StockPars</code> (slot <code>N_P</code>, <code>SSB_P</code>, etc.) during closed-loop</li>
<li>now use <code>usethis</code> for console messages</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.4.0" id="msetool-340">MSEtool 3.4.0<a class="anchor" aria-label="anchor" href="#msetool-340"></a></h2><p class="text-muted">CRAN release: 2022-01-05</p>
<div class="section level3">
<h3 id="new-additions-3-4-0">New additions<a class="anchor" aria-label="anchor" href="#new-additions-3-4-0"></a></h3>
<ul><li>new functions <code>makeRel</code> and <code>makeMOM</code> with methods for developing MICE relationships, e.g., density-dependent M.</li>
<li>depletion optimization in <code>multiMSE</code> uses <code>Wt_age_C</code> for catch fraction calculations.</li>
<li>argument <code>parallel</code> in <code>runMSE</code> can now be MP-specific by specifying a logical vector of length(MPs). This is useful to apply slow-running MPs in parallel, while avoiding the parallel overhead time for fast-running MPs.</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-3-4-0">Fixes<a class="anchor" aria-label="anchor" href="#fixes-3-4-0"></a></h3>
<ul><li>fix bug in re-calculation of MSY refs points when selectivity parameters change (introduced in last version)</li>
<li>fix indexing in <code>multiMSE</code> when growth and natural mortality are time-varying. Internal code in <code>HistMICE</code>, <code>qestMICE</code>, <code>popdynMICE</code> and <code>popdynOneMICE</code> was updated for better readability, i.e., removing obsolete/redundant code and better references for array dimensions.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-3-4-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-3-4-0"></a></h3>
<ul><li>add progress bar when knitting OM.rmd in Shiny</li>
<li>edits to make compatible with latest version of <code>rfishbase</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.3.0" id="msetool-330">MSEtool 3.3.0<a class="anchor" aria-label="anchor" href="#msetool-330"></a></h2><p class="text-muted">CRAN release: 2021-11-16</p>
<div class="section level3">
<h3 id="new-additions-3-3-0">New additions<a class="anchor" aria-label="anchor" href="#new-additions-3-3-0"></a></h3>
<ul><li>added <code>Awatea2OM</code> to import MCMC output from an Awatea assessment model to openMSE</li>
<li>reference points are now calculated assuming constant stock-recruit alpha and beta parameters. Previously, constant R0 and steepness was assumed. See <a href="https://openmse.com/tutorial-reference-points/" class="external-link">documentation</a> for more details.</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-3-3-0">Fixes<a class="anchor" aria-label="anchor" href="#fixes-3-3-0"></a></h3>
<ul><li>fix minor bug in calculating SSB in first year when using OMs imported from SS3</li>
<li>fix minor bug when passing movement matrix in with cpars</li>
<li>fix minor bug so that the mean of sampled recruitment deviations in <code>SS2MOM</code> and <code>SS2OM</code> is one. The issue was noticeable when the autocorrelation is high.</li>
<li>add check for missing OM slots such as interval, pstar, nyears, etc</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-3-3-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-3-3-0"></a></h3>
<ul><li>update <code>plot_mov</code> for plotting movement matrices.</li>
<li>
<code>ProjectMOM</code> and <code>multiMSE</code> now drop the <code>multiHist</code> object from the <code>MMSE</code> object unless argument <code>dropHist=FALSE</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.2.0" id="msetool-320">MSEtool 3.2.0<a class="anchor" aria-label="anchor" href="#msetool-320"></a></h2><p class="text-muted">CRAN release: 2021-08-13</p>
<div class="section level3">
<h3 id="fixes-3-2-0">Fixes<a class="anchor" aria-label="anchor" href="#fixes-3-2-0"></a></h3>
<ul><li>fix issue in <code>SSMOM2OM</code> where selectivity was NA when fishing mortality was 0</li>
<li>remove debugging message that was stupidly left in last release</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-3-2-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-3-2-0"></a></h3>
<ul><li>add <code>silent</code> option to <code>SS2Data</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="new-additions-3-2-0">New additions<a class="anchor" aria-label="anchor" href="#new-additions-3-2-0"></a></h3>
<ul><li>add option to include fecundity-at-age used to calculate spawning biomass (<code>cpars$Fec_age</code>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.1.1" id="msetool-311">MSEtool 3.1.1<a class="anchor" aria-label="anchor" href="#msetool-311"></a></h2><p class="text-muted">CRAN release: 2021-07-08</p>
<div class="section level3">
<h3 id="fixes-3-1-1">Fixes<a class="anchor" aria-label="anchor" href="#fixes-3-1-1"></a></h3>
<ul><li>patch bug in generation of size composition data (introduced in v3.1.0)</li>
<li>fix minor issue with <code>SSMOM2OM</code> where it was generating redundant rec devs</li>
</ul></div>
<div class="section level3">
<h3 id="new-additions-3-1-1">New additions<a class="anchor" aria-label="anchor" href="#new-additions-3-1-1"></a></h3>
<ul><li>added <code>plot_SS2MOM</code> to compare MOM dynamics with SS3 predictions</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.1.0" id="msetool-310">MSEtool 3.1.0<a class="anchor" aria-label="anchor" href="#msetool-310"></a></h2><p class="text-muted">CRAN release: 2021-07-03</p>
<div class="section level3">
<h3 id="new-additions-3-1-0">New additions<a class="anchor" aria-label="anchor" href="#new-additions-3-1-0"></a></h3>
<ul><li>Dynamic and equilibrium spawning potential ratio (SPR) are now calculated for the historical and projection years.</li>
<li>add option to include empirical weight-at-age for the catches with <code>cpars$Wt_age_C</code>
</li>
<li>F_crash, F_med, and other reference points have been added to <code>Hist@Ref$ByYear</code>
</li>
<li>can now optimize for depletion in terms of SB/SBMSY with <code>control$D &lt;- 'SBMSY'</code>
</li>
<li>option to simulate CAL data including removals (retained + discards) with <code>OM@cpars$control$CAL="removals"</code>. Default is to simulate only retained catch-at-length.</li>
<li>option to apply TAC to all removals with <code>OM@cpars$control$TAC="removals"</code>. Default is to for TAC to refer to retained catch (i.e., removals will be greater than TAC if there are discards)</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-3-1-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-3-1-0"></a></h3>
<ul><li>add more informative messages when conditioning on real data</li>
<li>add conditioning on real data for <code>multiMSE</code>
</li>
<li>MSY calculations now in C++ for significant speed increase</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-3-1-0">Fixes<a class="anchor" aria-label="anchor" href="#fixes-3-1-0"></a></h3>
<ul><li>fix the plus-group calculations in <code>popdynOneTScpp</code>
</li>
<li>fix issue with simulated index in <code>AddInd</code> in the projection years</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.0.2" id="msetool-302">MSEtool 3.0.2<a class="anchor" aria-label="anchor" href="#msetool-302"></a></h2><p class="text-muted">CRAN release: 2021-03-09</p>
<div class="section level3">
<h3 id="updates-3-0-2">Updates<a class="anchor" aria-label="anchor" href="#updates-3-0-2"></a></h3>
<ul><li>Help description has been updated for <code>Stock</code>, <code>Fleet</code>, and <code>Obs</code> objects (many thanks to Sarah Valencia).</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-3-0-2">Fixes<a class="anchor" aria-label="anchor" href="#fixes-3-0-2"></a></h3>
<ul><li>fix minor bugs in <code>XL2Data</code> for importing data from CSV</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.0.1" id="msetool-301">MSEtool 3.0.1<a class="anchor" aria-label="anchor" href="#msetool-301"></a></h2><p class="text-muted">CRAN release: 2021-02-02</p>
<div class="section level3">
<h3 id="minor-changes-3-0-1">Minor Changes<a class="anchor" aria-label="anchor" href="#minor-changes-3-0-1"></a></h3>
<ul><li>Add <code>I_beta</code>, <code>SpI_beta</code>, and <code>VI_beta</code> for the individual indices. Defaults to use <code>OM@beta</code> for all, unless a real index is supplied, e.g., <code>OM@cpars$Data@Ind</code>, <code>OM@cpars$Data@SpInd</code>, or <code>OM@cpars$Data@VInd</code>, or if supplied in cpars, e.g., <code>OM@cpars$I_beta</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-3-0-1">Fixes<a class="anchor" aria-label="anchor" href="#fixes-3-0-1"></a></h3>
<ul><li>fix bug where variability in von Bert <em>K</em> with <code>OM@Ksd</code> was not implemented correctly (5e6e8c6).</li>
<li>fix error with incorrect beta values when conditioning with real index (ie <a href="mailto:cpars%24Data@Ind" class="email">cpars$Data@Ind</a>)</li>
<li>fix randomly occurring bug in C++ code that was causing crashes</li>
<li>fix issue with importing composition data with <code>new('Data',..)</code> (issue <a href="https://github.com/Blue-Matter/MSEtool/issues/33" class="external-link">#33</a>)</li>
<li>fix <code>cpars$beta</code> and <code>cpars$Esd</code> issue (issue <a href="https://github.com/Blue-Matter/MSEtool/issues/34" class="external-link">#34</a>)</li>
<li>fix issue with importing Data files from csv</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.0.0" id="msetool-300">MSEtool 3.0.0<a class="anchor" aria-label="anchor" href="#msetool-300"></a></h2><p class="text-muted">CRAN release: 2021-01-09</p>
<p>This is a new major release of the <code>MSEtool</code> package. It is not backwards compatible with previous versions of <code>MSEtool</code> or <code>DLMtool</code>.</p>
<div class="section level3">
<h3 id="major-changes-3-0-0">Major Changes<a class="anchor" aria-label="anchor" href="#major-changes-3-0-0"></a></h3>
<ul><li>The most significant change in this version is that the <code>MSEtool</code> package now contains all code related to generating operating models, simulating fisheries dynamics, conducting management strategy evaluation, and examining the results (previously in the <code>DLMtool</code> package). This change was primarily done to better align the actual contents of the packages with the respective package names.</li>
<li>
<code>MSEtool</code> now only has a set of reference management procedures (e.g., <code>FMSYref</code>)</li>
<li>The <a href="https://github.com/Blue-Matter/DLMtool" class="external-link">Data-Limited Methods Toolkit</a> package now contains the collection of data-limited methods, and uses <code>MSEtool</code> V3+ as a dependency; i.e., installing and loading <code>DLMtool</code> will also install and load <code>MSEtool</code> and make all functions for generating OMs, conducting MSE, etc available.</li>
<li>The operating model has been updated and an age-0 age-class has been added to the population dynamics model; i.e., recruitment is now to age-0 (previously the OM in <code>DLMtool</code> had recruitment to age-1).</li>
<li>The catch-at-age (CAA) in the <code>Data</code> object now includes age-0 (i.e., all age data must be length <code>maxage+1</code>)</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adrian Hordyk, Quang Huynh, Tom Carruthers.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

