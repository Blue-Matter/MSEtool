<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Predict missing life-history parameters — LH2OM • MSEtool Functions</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Predict missing life-history parameters — LH2OM"><meta property="og:description" content="Predict missing life-history based on taxonomic information and
hierarchical model fitted to FishBase life-history parameters"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MSEtool Functions</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Blue-Matter/MSEtool/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Predict missing life-history parameters</h1>
    <small class="dont-index">Source: <a href="https://github.com/Blue-Matter/MSEtool/blob/HEAD/R/OM_functions.R" class="external-link"><code>R/OM_functions.R</code></a></small>
    <div class="hidden name"><code>LH2OM.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Predict missing life-history based on taxonomic information and
hierarchical model fitted to FishBase life-history parameters</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">LH2OM</span><span class="op">(</span>
  <span class="va">OM</span>,
  dist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"unif"</span>, <span class="st">"norm"</span><span class="op">)</span>,
  filterMK <span class="op">=</span> <span class="cn">FALSE</span>,
  plot <span class="op">=</span> <span class="cn">TRUE</span>,
  Class <span class="op">=</span> <span class="st">"predictive"</span>,
  Order <span class="op">=</span> <span class="st">"predictive"</span>,
  Family <span class="op">=</span> <span class="st">"predictive"</span>,
  msg <span class="op">=</span> <span class="cn">TRUE</span>,
  db <span class="op">=</span> <span class="fu">MSEtool</span><span class="fu">::</span><span class="va"><a href="LHdatabase.html">LHdatabase</a></span>
<span class="op">)</span>

<span class="fu">predictLH</span><span class="op">(</span>
  inpars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,
  Genus <span class="op">=</span> <span class="st">"predictive"</span>,
  Species <span class="op">=</span> <span class="st">"predictive"</span>,
  nsamp <span class="op">=</span> <span class="fl">100</span>,
  db <span class="op">=</span> <span class="fu">MSEtool</span><span class="fu">::</span><span class="va"><a href="LHdatabase.html">LHdatabase</a></span>,
  dist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"unif"</span>, <span class="st">"norm"</span><span class="op">)</span>,
  filterMK <span class="op">=</span> <span class="cn">TRUE</span>,
  plot <span class="op">=</span> <span class="cn">TRUE</span>,
  Class <span class="op">=</span> <span class="st">"predictive"</span>,
  Order <span class="op">=</span> <span class="st">"predictive"</span>,
  Family <span class="op">=</span> <span class="st">"predictive"</span>,
  msg <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="source">
    <h2>Source</h2>
    <p><a href="https://github.com/James-Thorson-NOAA/FishLife" class="external-link">https://github.com/James-Thorson-NOAA/FishLife</a></p>
    </div>
    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>OM</dt>
<dd><p>An object of class 'OM'</p></dd>
<dt>dist</dt>
<dd><p>Character. Should parameters be sampled from a uniform (<code>unif</code>) or
normal (<code>norm</code>) distribution?</p></dd>
<dt>filterMK</dt>
<dd><p>Logical. Should the predicted M and K parameters be filtered within the range specified in <code>inpars</code>or <code>OM</code>?
e.g. <code>OM@M</code> and <code>OM@K</code>. Empty slots or slots with all values of 0 are considered unknown.</p></dd>
<dt>plot</dt>
<dd><p>Logical. Should the plot be produced?</p></dd>
<dt>Class</dt>
<dd><p>Optional higher order taxonomic information</p></dd>
<dt>Order</dt>
<dd><p>Optional higher order taxonomic information</p></dd>
<dt>Family</dt>
<dd><p>Optional higher order taxonomic information</p></dd>
<dt>msg</dt>
<dd><p>Logical. Should messages be printed?</p></dd>
<dt>db</dt>
<dd><p>Database from FishLife model with fitted model results</p></dd>
<dt>inpars</dt>
<dd><p>A named list with lower and upper bounds of provided parameters: <em>Linf</em>, <em>L50</em>,
<em>K</em> and <em>M</em> (must be length 2). Unknown or missing parameters should not be included. For example, an empty list assumes
that all four life history parameters are unknown and need to be estimated. See Details below for more information.</p></dd>
<dt>Genus</dt>
<dd><p>Character string specifying the Genus name. Optional. Default is 'predictive'</p></dd>
<dt>Species</dt>
<dd><p>Character string specifying the Species name. Optional. Default is 'predictive'. If full species name
(Genus + Species) is not found if FishLife database (based on FishBase) higher order taxonomy will be used (e.g., Family)
for the predictions.</p></dd>
<dt>nsamp</dt>
<dd><p>The number of samples to return</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>LH2OM: An OM with <code>OM@cpars</code> populated with <code>OM@nsim</code> samples of M, K, Linf and L50
predictLH: A data.frame with <code>nsamp</code> rows with <code>Linf</code>, <code>L50</code>, <code>K</code>, and <code>M</code> values.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The model predicts missing life-history parameters based on provided parameters and taxonomic information.
If both <em>M</em> and <em>K</em> are provided in <code>inpars</code> or  <code>OM</code>, <em>K</em> values are predicted and predictions filtered
so that resulting <em>K</em> values are within bounds specified in <code>inpars$K</code> or <code>OM@K</code> (see <code>filterMK</code>).</p>
<p>If both <em>Linf</em> and <em>L50</em> are provided in <code>inpars</code> or <code>OM</code>, <em>L50</em> values are predicted and values in <code>inpars$L50</code>
or <code>OM@L50</code> are ignored.</p>
    </div>
    <div id="functions">
    <h2>Functions</h2>
    
<ul><li><p><code>LH2OM</code>: Predict missing life-history and populate <code>OM@cpars</code></p></li>
<li><p><code>predictLH</code>: Predict missing life-history based on taxonomic information and
hierachical model fitted to FishBase life-history parameters</p></li>
</ul></div>
    <div id="references">
    <h2>References</h2>
    <p>Thorson, J. T., S. B. Munch, J. M. Cope, and J. Gao. 2017.
Predicting life history parameters for all fishes worldwide. Ecological Applications. 27(8): 2262--2276</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>A. Hordyk</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">myOM</span><span class="op">&lt;-</span><span class="fu">LH2OM</span><span class="op">(</span><span class="fu">MSEtool</span><span class="fu">::</span><span class="va"><a href="OM-class-objects.html">testOM</a></span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># drawing known parameters from normal distribution</span></span>
<span class="r-in"><span class="va">myOM</span> <span class="op">&lt;-</span> <span class="fu">LH2OM</span><span class="op">(</span><span class="fu">MSEtool</span><span class="fu">::</span><span class="va"><a href="OM-class-objects.html">testOM</a></span>, dist<span class="op">=</span><span class="st">'norm'</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># predict life-history parameters and return a data frame</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># predict all life-history parameters</span></span>
<span class="r-in"><span class="va">Predicts</span> <span class="op">&lt;-</span> <span class="fu">predictLH</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"Katsuwonus"</span>, <span class="st">"pelamis"</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Predicting Linf </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Predicting L50 </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Predicting K </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Predicting M </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Loading FishBase database </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Species match: Actinopterygii Perciformes Scombridae Katsuwonus pelamis </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-plt img"><img src="LH2OM-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">Predicts</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Linf      L50         K         M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 91.17328 62.29419 0.5261728 0.9680549</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 88.69051 51.76415 0.5635464 0.7860197</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 91.41605 55.11156 0.4997994 0.8094962</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 85.79259 33.28065 0.5552583 1.0948288</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 94.28324 56.08885 0.4921677 0.8989604</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 91.15118 51.88807 0.4749638 0.6727248</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># predict L50 from Linf, and M and K</span></span>
<span class="r-in"><span class="va">Predicts</span> <span class="op">&lt;-</span> <span class="fu">predictLH</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Linf<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">90</span>, <span class="fl">95</span><span class="op">)</span><span class="op">)</span>, <span class="st">"Katsuwonus"</span>, <span class="st">"pelamis"</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Predicting L50 </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Predicting K </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Predicting M </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Loading FishBase database </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Species match: Actinopterygii Perciformes Scombridae Katsuwonus pelamis </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-plt img"><img src="LH2OM-2.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># predict L50 and K</span></span>
<span class="r-in"><span class="va">Predicts</span> <span class="op">&lt;-</span> <span class="fu">predictLH</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Linf<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">90</span>, <span class="fl">95</span><span class="op">)</span>, M<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.8</span>, <span class="fl">0.9</span><span class="op">)</span><span class="op">)</span>, <span class="st">"Katsuwonus"</span>, <span class="st">"pelamis"</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Predicting L50 </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Predicting K </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Loading FishBase database </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Species match: Actinopterygii Perciformes Scombridae Katsuwonus pelamis </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-plt img"><img src="LH2OM-3.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># predict L50 and K sampling Linf and M from normal distribution</span></span>
<span class="r-in"><span class="va">Predicts</span> <span class="op">&lt;-</span> <span class="fu">predictLH</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Linf<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">90</span>, <span class="fl">95</span><span class="op">)</span>, M<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.8</span>, <span class="fl">0.9</span><span class="op">)</span><span class="op">)</span>, <span class="st">"Katsuwonus"</span>, <span class="st">"pelamis"</span>, dist<span class="op">=</span><span class="st">'norm'</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Predicting L50 </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Predicting K </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Loading FishBase database </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Species match: Actinopterygii Perciformes Scombridae Katsuwonus pelamis </span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-plt img"><img src="LH2OM-4.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Adrian Hordyk, Quang Huynh, Tom Carruthers.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

